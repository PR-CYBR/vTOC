:root {
  color-scheme: light dark;
  --bg: #0f172a;
  --fg: #e2e8f0;
  --muted: #94a3b8;
  --panel: rgba(15, 23, 42, 0.75);
  --border: rgba(148, 163, 184, 0.25);
  --accent: #38bdf8;
  --danger: rgba(248, 113, 113, 0.35);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}

html, body, #__next { height: 100%; }
body { margin: 0; background: var(--bg); color: var(--fg); }

.station-shell { display: flex; flex-direction: column; min-height: 100%; }
.station-header {
  display:flex; align-items:center; justify-content:space-between;
  padding: 1rem; border-bottom: 1px solid var(--border);
}
.station-content { display:flex; gap:1rem; padding:1rem; height: calc(100vh - 68px); overflow: hidden; }

.station-nav { display:flex; gap:.5rem; flex-wrap:wrap; }
.station-nav__link {
  text-decoration:none; font-weight:600; padding:.375rem .75rem; border-radius:999px;
  border:1px solid var(--border); background: rgba(148,163,184,.12);
  color: var(--fg);
}
.station-nav__link:hover { background: rgba(148,163,184,.25); }
.station-nav__link--active { background: rgba(56,189,248,.18); border-color: rgba(56,189,248,.45); }

.intel-panel {
  width: 420px; max-width: 42vw; height: 100%;
  background: var(--panel); border:1px solid var(--border); border-radius:.75rem;
  display:flex; flex-direction:column; overflow:hidden;
}
.intel-panel header { 
  display:flex; gap:.75rem; align-items:center; justify-content:space-between; 
  padding:.75rem 1rem; border-bottom:1px solid var(--border); 
}
.intel-subtitle { color: var(--muted); margin:.125rem 0 0 0; font-size:.875rem; }
.kpi-grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:.5rem; padding: .75rem 1rem 0 1rem; }
.kpi { background: rgba(148,163,184,.08); border:1px solid var(--border); border-radius:.5rem; padding:.5rem .75rem; }
.kpi-label { color: var(--muted); font-size:.75rem; }
.kpi-value { font-weight:700; font-size:1.25rem; }

.station-timeline-panel { flex:1; display:flex; flex-direction:column; margin: .75rem; border-top:1px dashed var(--border); overflow: hidden; }
.timeline-group { padding:.5rem 0; }
.timeline-date { color: var(--muted); font-weight:600; padding: .25rem 1rem; }
.timeline-list { overflow:auto; padding: .25rem 1rem 1rem 1rem; display:flex; flex-direction:column; gap:.5rem; }
.timeline-entry {
  display:grid; grid-template-columns: 28px 1fr; gap:.5rem;
  background: rgba(148,163,184,.06); border:1px solid var(--border); border-radius:.5rem; padding:.5rem;
}
.timeline-entry__icon { width:28px; height:28px; display:flex; align-items:center; justify-content:center; }
.timeline-entry__header { display:flex; justify-content:space-between; gap:.5rem; }
.timeline-entry__meta { display:flex; gap:.375rem; margin-top:.125rem; }
.timeline-entry__type, .timeline-entry__source {
  font-size:.7rem; padding:.125rem .375rem; border-radius:.375rem; border:1px solid var(--border);
}
.timeline-entry__type { background: rgba(56,189,248,.12); border-color: rgba(56,189,248,.35); }
.timeline-entry__payload { 
  font-size:.75rem; overflow:auto; margin:.25rem 0 0 0; 
  font-family: 'Fira Code', 'SFMono-Regular', Menlo, Monaco, Consolas, monospace;
  background: rgba(15, 23, 42, 0.7); padding: 0.5rem; border-radius: 0.375rem;
  white-space: pre-wrap; word-break: break-word;
}
.timeline-entry--imei-blacklist-hit { border-color: var(--danger); background: rgba(248, 113, 113, 0.08); }

.role-badge {
  margin-left:.5rem; padding:.15rem .45rem; font-size:.7rem; font-weight:700;
  text-transform:uppercase; border-radius:.375rem; border:1px solid var(--border); background: rgba(148,163,184,.14);
}

.chatkit-console { position: fixed; right:1rem; bottom:1rem; width:320px; z-index:50; }
.chatkit-assistant {
  min-height: 320px; background: var(--panel); border:1px solid var(--border); border-radius:.75rem;
  padding: 1rem;
}

.map-placeholder { 
  flex:1; border:1px dashed var(--border); border-radius:.75rem; 
  background: rgba(148,163,184,.04); display:flex; align-items:center; 
  justify-content:center; font-weight:600; color:var(--muted); 
}

button {
  background: var(--accent); border: none; border-radius: 0.5rem;
  padding: 0.5rem 1rem; color: #0f172a; cursor: pointer;
  font-weight: 600;
}

button:hover {
  background: #0ea5e9;
}
